<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>WDL-OL/IPlug: Quick Start</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">WDL-OL/IPlug
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">Cross-platform C++ Plug-in Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Quick Start </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000006">Todo:</a></b></dt><dd>Lots more to do here!</dd></dl>
<h2>Adding/modifying resources</h2>
<p>One of the most common things people post about on the WDL Forum is how to add a resource, such as an image. Perhaps they tried and got an assertion when they try and run the plug-in or app. Something like:</p>
<p>```cpp Assertion failed: (resourceFound), function LoadIBitmap... ```</p>
<p>This basically means that the resource has not been found. Perhaps it didn't get included in the bundle (OSX) or baked into the binary (WIN) or perhaps it is there but was not referenced correctly in the source code.</p>
<hr/>
<h3>Here are some instructions about how to add an image:</h3>
<p>Let's assume our WDL-OL IPlug Project is called <em>MyNewPlugin</em> and the image we want to add is called <em>cat.png</em>.</p>
<p>The IPlug Project should exist at the same level as <em>WDL-OL/IPlugExamples/IPlugEffect</em>. Personally I put all my IPlug projects in a folder called <em>WDL-OL/Projects</em> (which is ignored in the .gitignore file), so if I were to make a new project I would first use the <a href="md_duplicate.html">duplicate script</a> to clone the IPlugEffect example and then I would move that folder to <em>WDL-OL/Projects/MyNewPlugin</em>.</p>
<ul>
<li>Firstly, make sure your image is in PNG format. By default WDL-OL IPlug only works with PNG files.</li>
<li><p class="startli">Copy the PNG file to the IPlug Project's image resource folder e.g.</p>
<p class="startli"><em>WDL-OL/Projects/MyNewPlugin/Resources/img/cat.png</em></p>
</li>
<li>Now add a reference to the file location to <em>WDL-OL/Projects/MyNewPlugin/config.h</em></li>
</ul>
<p>```cpp // Image resource locations for this plug. #define KNOB_FN "resources/img/knob.png" #define CAT_FN "resources/img/cat.png" ```</p>
<p>The following steps differ depending on which platform/IDE you are using:</p>
<p><b>Xcode</b></p>
<p>Open <em>WDL-OL/Projects/MyNewPlugin/MyNewPlugin.xcodeproj</em> and drag cat.png into the folder <em>Resources/img/</em> inside the Xcode project. Xcode will give you a dialog asking which targets you want to add the resource to. Usually you would tick all of them except the one called "All" which is an Aggregate target for building all formats at once. You can now verify that your resource will be added to the plug-in/app bundle by checking the target's "Copy Bundle Resources" build-phase.</p>
<p><b>Visual Studio</b></p>
<p>Edit <em>WDL-OL/Projects/MyNewPlugin/MyNewPlugin.rc</em> </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000007">Todo:</a></b></dt><dd>Complete the guide for Visual Studio</dd></dl>
<p>Now you have included the resource in your build, you can actually use it in the source code. In the plug-in's constructor, after creating the graphics context you can call:</p>
<p>```cpp <a class="el" href="class_i_bitmap.html" title="Used to manage bitmap data, independant of draw class/platform. ">IBitmap</a> cat = pGraphics-&gt;LoadIBitmap(CAT_FN, 1 /*num frames); ```</p>
<p>In order to be able to use cat.png in an <a class="el" href="class_i_control.html" title="The lowest level base class of an IGraphics control. ">IControl</a> that uses a bitmap, e.g. an <a class="el" href="class_i_bitmap_control.html" title="A basic control to draw a bitmap, or one frame of a stacked bitmap depending on the current value...">IBitmapControl</a>.</p>
<hr/>
<h3>Things that could go wrong:</h3>
<ul>
<li>On macOS every bundle has a Info.plist file and when image resources are loaded the IGraphics/Lice image loading routines need to have the correct bundle identifier in order to find the file. The elements that make up the bundle identifier are in <em>config.h</em> and are concatenated together in <a class="el" href="_i_plug__include__in__plug__hdr_8h.html" title="IPlug header include. ">IPlug_include_in_plug_hdr.h</a>. Therefore if you decide to modify <code>BUNDLE_MFR</code> or <code>BUNDLE_NAME</code> in <em>config.h</em> it is of utmost importance that you also edit the .plist file for the targets to mirror those changes, otherwise the bundle ID will not match. </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Feb 8 2018 10:43:26 for WDL-OL/IPlug by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
